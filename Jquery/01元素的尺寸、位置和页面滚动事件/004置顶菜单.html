<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>004置顶菜单.html</title>

		<style type="text/css">
		body{margin:0px;}
		.logo_bar{
			width:960px;
			height:200px;
			background-color:#f0f0f0;
			margin:0 auto;
			
		}
		.menu,.menu_pos{
			width:960px;
			height:50px;
			margin:0 auto;
			background-color:gold;
			text-align:center;
			line-height:50px;
		}
		.menu_pos{
			display:none;
		}

		.down_con{
			width:960px;
			height:1800px;
			margin:0 auto;
		}

		.down_con p{
			margin-top:100px;
			text-align:center;
		}
		.totop{
			width:50px;
			height:50px;
			background:url(../images/up.png) center center no-repeat #000;
			border-radius:50%;
			position:fixed;
			right:50px;
			bottom:50px;
			display:none;
		}
	</style>
	<script type="text/javascript" src="../js/jquery-1.12.4.min.js"></script>
	<script type="text/javascript">
		
		$(function(){
			
			// 滚动事件
			$(window).scroll(function(){

				// 获取顶部滚动的距离
				var nowTop = $(document).scrollTop();

				// 当logo_bar 上去后 设置菜单栏目固定在顶部居中处理
				if(nowTop>200){
					$('.menu').css({
						position:'fixed',
						left:'50%',
						top:0,
						marginLeft:-480
					});

					$('.menu_pos').show();
				}
				// 否则，将菜单栏恢复原来的样子
				else{
					$('.menu').css({
						position:'static',
						marginLeft:'auto'
					});
					$('.menu_pos').hide();  // 隐藏掉代替菜单栏的div
				}

				if(nowTop>400){
					$('.totop').fadeIn();  //淡入效果
				}
				else{
					$('totop').fadeOut(); // 淡出效果
				}

			});


			$('.totop').click(function(){
				$('html,body').animate({'scrollTop':0});
			});

		})


	</script>

</head>
<body>

	<div class="logo_var">顶部logo</div>
	<div class="menu">顶部菜单</div>
	<div class="menu_pos"></div> <!-- 用来顶替上面顶部菜单，让内容不会立马跑到顶部去 -->
	<div class="down_con">
		<p style="color:red">网站主内容</p>
		<p>网站主内容</p>
		<p>网站主内容</p>
		<p>网站主内容</p>
		<p>网站主内容</p>
	</div>
	<a href="javascript:;" class="totop"></a>

</body>
</html>